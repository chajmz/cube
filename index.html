<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cumulative Distance by Year</title>
    <!-- Include Plotly library -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

<div id="plot"></div>

<script>
    fetch('data4.json')  // Assurez-vous que le chemin vers votre fichier JSON est correct
        .then(response => response.json())
        .then(data => {
            // Regrouper les données par année
            const groupedData = {};
            data.forEach(entry => {
                const year = entry.year;
                if (!groupedData[year]) {
                    groupedData[year] = {x: [], y: []};
                }
                groupedData[year].x.push(entry.day_of_year);
                groupedData[year].y.push(entry.cumulative_distance);
            });

            // Créer un trace pour chaque année
            const traces = [];
            for (const year in groupedData) {
                traces.push({
                    x: groupedData[year].x,
                    y: groupedData[year].y,
                    mode: 'lines+markers',
                    type: 'scatter',
                    name: `Year ${year}`
                });
            }

            const layout = {
                title: 'Cumulative Distance by Year',
                xaxis: {
                    title: 'Days Since Start'
                },
                yaxis: {
                    title: 'Cumulative Distance (km)'
                }
            };

            const config = {responsive: true};

            Plotly.newPlot('plot', traces, layout, config);
        });
</script>

</body>
</html>
